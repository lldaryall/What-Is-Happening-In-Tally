<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Darya Pylypenko - Interactive Portfolio</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #1a1a1a;
            overflow: hidden;
            color: #ffffff;
        }

        #game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #game-canvas {
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            border: 2px solid #2779a7;
        }

        /* Loading Screen */
        .loading-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loading-text {
            font-size: 2.5rem;
            color: #00d4ff;
            margin-bottom: 2rem;
            text-align: center;
            animation: pulse 2s infinite;
            text-shadow: 0 0 20px #00d4ff;
            font-weight: bold;
        }

        .loading-dots {
            font-size: 1.5rem;
            color: #ffffff;
            animation: blink 1s infinite;
        }

        .loading-progress {
            width: 300px;
            height: 4px;
            background: #333;
            border-radius: 2px;
            margin-top: 2rem;
            overflow: hidden;
        }

        .loading-bar {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #ff6b6b);
            width: 0%;
            animation: loading 3s ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        @keyframes loading {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        /* Intro Screen */
        .intro-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }

        .intro-title {
            font-size: 4rem;
            color: #00d4ff;
            margin-bottom: 1rem;
            text-align: center;
            text-shadow: 0 0 30px #00d4ff;
            font-weight: bold;
        }

        .intro-subtitle {
            font-size: 1.8rem;
            color: #ffffff;
            margin-bottom: 3rem;
            text-align: center;
        }

        .play-button {
            background: linear-gradient(45deg, #00d4ff, #ff6b6b);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.8rem;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            cursor: pointer;
            border-radius: 50px;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
        }

        .play-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 35px rgba(0, 212, 255, 0.5);
        }

        /* Menu Button */
        .menu-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #2779a7;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            border-radius: 5px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .menu-button:hover {
            background: #1e5a7a;
        }

        /* Map Button */
        .map-button {
            position: absolute;
            top: 20px;
            right: 120px;
            background: #2ecc71;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            border-radius: 5px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .map-button:hover {
            background: #27ae60;
        }

        /* Map Overlay */
        .map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 400;
        }

        .map-content {
            background: #2d2d2d;
            padding: 2rem;
            border-radius: 10px;
            border: 2px solid #2ecc71;
            text-align: center;
            max-width: 90%;
            max-height: 90%;
            overflow: auto;
        }

        .map-title {
            color: #2ecc71;
            font-size: 2rem;
            margin-bottom: 2rem;
        }

        .map-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .map-location {
            background: #1a1a1a;
            padding: 1rem;
            border-radius: 5px;
            border: 2px solid #2ecc71;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .map-location:hover {
            background: #2ecc71;
            color: #000;
        }

        .location-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .location-type {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        /* Game UI */
        .game-ui {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #ffffff;
            font-size: 1rem;
            z-index: 50;
        }

        .instructions {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ffffff;
            font-size: 0.9rem;
            text-align: center;
            z-index: 50;
        }

        /* Overlay Styles */
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 200;
        }

        .overlay-content {
            background: #2d2d2d;
            padding: 2rem;
            border-radius: 10px;
            max-width: 80%;
            max-height: 80%;
            overflow-y: auto;
            border: 2px solid #2779a7;
        }

        .overlay-header {
            color: #2779a7;
            font-size: 2rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .overlay-close {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: #ffffff;
            font-size: 2rem;
            cursor: pointer;
            font-weight: bold;
        }

        .overlay-text {
            color: #ffffff;
            line-height: 1.6;
            font-size: 1rem;
        }

        .project-item {
            background: #1a1a1a;
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 5px;
            border-left: 4px solid #2779a7;
        }

        .project-title {
            color: #2779a7;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .skill-item {
            display: inline-block;
            background: #2779a7;
            color: white;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        /* Menu Overlay */
        .menu-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 300;
        }

        .menu-content {
            background: #2d2d2d;
            padding: 2rem;
            border-radius: 10px;
            border: 2px solid #2779a7;
            text-align: center;
        }

        .menu-title {
            color: #2779a7;
            font-size: 2rem;
            margin-bottom: 2rem;
        }

        .menu-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .menu-btn {
            background: #2779a7;
            color: white;
            border: none;
            padding: 15px 20px;
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .menu-btn:hover {
            background: #1e5a7a;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div id="game-container">
        <!-- Loading Screen -->
        <div class="loading-screen" id="loading-screen">
            <div class="loading-text">Loading Portfolio...</div>
            <div class="loading-dots" id="loading-dots">Preparing interactive experience</div>
            <div class="loading-progress">
                <div class="loading-bar"></div>
            </div>
            <div style="margin-top: 2rem; color: #cccccc; font-size: 0.9rem; cursor: pointer;" id="skip-loading">Click to skip loading</div>
        </div>

        <!-- Intro Screen -->
        <div class="intro-screen" id="intro-screen">
            <h1 class="intro-title">Darya Pylypenko</h1>
            <p class="intro-subtitle">Interactive Portfolio Experience</p>
            <button class="play-button" id="play-button">Enter Portfolio</button>
        </div>

        <!-- Game Canvas -->
        <div id="game-canvas"></div>

        <!-- Menu Button -->
        <button class="menu-button" id="menu-button">Menu</button>
        
        <!-- Map Button -->
        <button class="map-button" id="map-button">Map</button>

        <!-- Game UI -->
        <div class="game-ui" id="game-ui" style="display: none;">
            <div>Use WASD or Arrow Keys to move</div>
        </div>

        <!-- Instructions -->
        <div class="instructions" id="instructions" style="display: none;">
            <div>Use WASD/Arrow Keys to move • Click to move • SPACE to jump</div>
            <div>Walk to the glowing markers to explore my portfolio sections</div>
            <div>Talk to NPCs for random interactions • Press ESC for menu</div>
        </div>

        <!-- Menu Overlay -->
        <div class="menu-overlay" id="menu-overlay">
            <div class="menu-content">
                <h2 class="menu-title">Portfolio Menu</h2>
                <div class="menu-buttons">
                    <button class="menu-btn" data-section="about">About Me</button>
                    <button class="menu-btn" data-section="projects">Projects</button>
                    <button class="menu-btn" data-section="resume">Resume</button>
                    <button class="menu-btn" data-section="skills">Skills</button>
                    <button class="menu-btn" data-section="awards">Awards</button>
                    <button class="menu-btn" data-section="contact">Contact</button>
                </div>
            </div>
        </div>

        <!-- Map Overlay -->
        <div class="map-overlay" id="map-overlay">
            <div class="map-content">
                <h2 class="map-title">Portfolio Map</h2>
                <div class="map-grid">
                    <div class="map-location" data-location="research-lab">
                        <div class="location-name">Research Lab</div>
                        <div class="location-type">About Me</div>
                    </div>
                    <div class="map-location" data-location="tech-hub">
                        <div class="location-name">Tech Hub</div>
                        <div class="location-type">Projects</div>
                    </div>
                    <div class="map-location" data-location="ai-lab">
                        <div class="location-name">AI Lab</div>
                        <div class="location-type">Resume</div>
                    </div>
                    <div class="map-location" data-location="data-center">
                        <div class="location-name">Data Center</div>
                        <div class="location-type">Skills</div>
                    </div>
                    <div class="map-location" data-location="innovation-center">
                        <div class="location-name">Innovation Center</div>
                        <div class="location-type">Awards</div>
                    </div>
                    <div class="map-location" data-location="conference-hall">
                        <div class="location-name">Conference Hall</div>
                        <div class="location-type">Contact</div>
                    </div>
                </div>
                <button class="overlay-close" id="map-close">&times;</button>
            </div>
        </div>

        <!-- Portfolio Section Overlays -->
        <!-- About Me Overlay -->
        <div class="overlay" id="about-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">About Me</h2>
                <div class="overlay-text">
                    <p>Hello! I'm Darya Pylypenko, a B.S./M.S. Computer Science student at Florida State University with research experience in algorithms, systems, and AI. I have a strong background in C++, Python, and quantitative analysis.</p>
                    <p>I'm currently seeking a quantitative research/developer internship to apply my data modeling, algorithmic problem-solving, and software engineering skills. My research focuses on adversarial machine learning and Graph Neural Networks, where I work on developing statistical defenses for model ownership verification.</p>
                    <p>I'm passionate about promoting diversity in tech as President of Women in Computer Science (WICS), leading a 100+ member organization. I organize coding workshops, mentorship programs, and industry networking events to foster an inclusive community for underrepresented groups in computing.</p>
                    <p>When I'm not coding, you can find me playing tennis, weightlifting, volunteering, or running marathons. I'm also fluent in Russian, Ukrainian, Italian, Spanish, and English!</p>
                    <br>
                    <p><strong>Fun Fact:</strong> I built this interactive portfolio using Phaser 3 to showcase my skills in a unique and engaging way!</p>
                </div>
            </div>
        </div>

        <!-- Projects Overlay -->
        <div class="overlay" id="projects-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">My Projects</h2>
                <div class="overlay-text">
                    <div class="project-item">
                        <div class="project-title">Interactive Portfolio Website</div>
                        <p>A game-style portfolio built with Phaser 3, featuring a 2D world where visitors can explore different sections by walking around. This project showcases my ability to create engaging user experiences using modern web technologies.</p>
                        <p><strong>Technologies:</strong> Phaser 3, JavaScript, HTML5, CSS3</p>
                    </div>
                    <div class="project-item">
                        <div class="project-title">Quantitative Trading Strategy Backtester</div>
                        <p>Designed and back-tested a trading strategy on historical stock data using Python. Implemented a moving-average crossover algorithm to generate buy/sell signals on S&P 500 daily data. Achieved Sharpe ratio ≈ 1.2 and max drawdown 8%.</p>
                        <p><strong>Technologies:</strong> Python, Pandas, NumPy</p>
                    </div>
                    <div class="project-item">
                        <div class="project-title">Monte Carlo Option Pricing Simulator</div>
                        <p>Built a C++ Monte Carlo simulation engine to price European stock options. Modeled random price paths using Geometric Brownian Motion and computed option payoffs over 1e6 simulations with multi-threading for efficiency. Achieved pricing results within <1% of Black-Scholes formula.</p>
                        <p><strong>Technologies:</strong> C++, STL, OpenMP, Multi-threading</p>
                    </div>
                    <div class="project-item">
                        <div class="project-title">Coppola Artistica Website</div>
                        <p>A full-featured e-commerce site for an Italian tile business. Built custom product pages, integrated PHP and MySQL for backend management, and optimized SEO across listings on Etsy and eBay. Created visual branding using Canva and Photoshop.</p>
                        <p><strong>Technologies:</strong> C++, Python, OpenAI API, Vercel, HTML, CSS, JavaScript, PHP, MySQL, Adobe Photoshop</p>
                        <p><strong>Live Demo:</strong> <a href="https://coppolaartistica.vercel.app/" target="_blank" style="color: #00d4ff;">coppolaartistica.vercel.app</a></p>
                    </div>
                    <div class="project-item">
                        <div class="project-title">C++ Projects Collection</div>
                        <p>A collection of C++ and C projects showcasing skills in object-oriented programming, data structures, algorithms, file I/O, and game development. Includes text-based games, data analysis tools, and simulation programs.</p>
                        <p><strong>Technologies:</strong> C++, C, Unix</p>
                        <p><strong>GitHub:</strong> <a href="https://github.com/lldaryall/C-projects" target="_blank" style="color: #00d4ff;">github.com/lldaryall/C-projects</a></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Resume Overlay -->
        <div class="overlay" id="resume-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">Resume & Experience</h2>
                <div class="overlay-text">
                    <h3>Current Experience</h3>
                    <p><strong>Research Assistant</strong> - FSU Department of Computer Science (September 2025 – Present)</p>
                    <p>Conduct research in adversarial machine learning focusing on Graph Neural Networks. Reproduced a state-of-the-art GNN fingerprinting framework using PyTorch, simulating large-scale adversarial attacks on graph models.</p>
                    
                    <p><strong>Lab Assistant</strong> - FAMU-FSU College of Engineering (August 2025 – Present)</p>
                    <p>Developed C/C++ algorithms to parse and analyze large X-ray and neutron scattering datasets. Built an interactive data visualization GUI using wxWidgets in C++ to display scattering results and spectra.</p>
                    
                    <p><strong>Emerging Technology Intern</strong> - FSU Information Technology Services (August 2025 – Present)</p>
                    <p>Maintained and updated official FSU web platforms including the President's Office, ITS, and Provost sites with a focus on performance and accessibility.</p>
                    
                    <p><strong>President</strong> - Women in Computer Science (WICS) (April 2025 - Present)</p>
                    <p>Lead a 100+ member organization to promote diversity in tech. Organize coding workshops, mentorship programs, and industry networking events.</p>
                    
                    <h3>Previous Experience</h3>
                    <p><strong>Generative AI Engineer</strong> - Reality AI Lab (May 2025 – August 2025)</p>
                    <p>Built generative AI applications using LangChain, LlamaIndex, and retrieval-augmented generation workflows. Implemented embedding-based search with OpenAI API and Redis, deploying scalable AI services on Google Cloud.</p>
                    
                    <h3>Education</h3>
                    <p><strong>Florida State University</strong> - Expected Graduation Spring 2027</p>
                    <p>B.S./M.S. Computer Science, Business Minor | GPA: 3.7</p>
                    <p>Honors: President's & Dean's List, UROP Scholar, STRIVE Award</p>
                </div>
            </div>
        </div>

        <!-- Skills Overlay -->
        <div class="overlay" id="skills-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">Skills & Technologies</h2>
                <div class="overlay-text">
                    <h3>Programming Languages</h3>
                    <span class="skill-item">C++ (STL, multi-threading)</span>
                    <span class="skill-item">Python (pandas, NumPy, PyTorch)</span>
                    <span class="skill-item">C</span>
                    <span class="skill-item">Bash</span>
                    <span class="skill-item">JavaScript</span>
                    
                    <h3>Data & Machine Learning</h3>
                    <span class="skill-item">PyTorch</span>
                    <span class="skill-item">scikit-learn</span>
                    <span class="skill-item">pandas</span>
                    <span class="skill-item">NumPy</span>
                    <span class="skill-item">Matplotlib</span>
                    <span class="skill-item">Statistical Modeling</span>
                    <span class="skill-item">Time Series Analysis</span>
                    
                    <h3>Tools & Technologies</h3>
                    <span class="skill-item">Git</span>
                    <span class="skill-item">Linux/Unix</span>
                    <span class="skill-item">GNU Make</span>
                    <span class="skill-item">Docker</span>
                    <span class="skill-item">AWS</span>
                    <span class="skill-item">Google Cloud</span>
                    <span class="skill-item">wxWidgets</span>
                    
                    <h3>Languages</h3>
                    <span class="skill-item">Russian</span>
                    <span class="skill-item">Ukrainian</span>
                    <span class="skill-item">Italian</span>
                    <span class="skill-item">Spanish</span>
                    <span class="skill-item">English</span>
                </div>
            </div>
        </div>

        <!-- Awards Overlay -->
        <div class="overlay" id="awards-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">Awards & Achievements</h2>
                <div class="overlay-text">
                    <h3>Academic Honors</h3>
                    <p><strong>President's List</strong> - Florida State University</p>
                    <p><strong>Dean's List</strong> - Florida State University</p>
                    <p><strong>UROP Scholar</strong> - Undergraduate Research Opportunity Program</p>
                    <p><strong>STRIVE Award</strong> - Student Recognition for Innovation and Excellence</p>
                    
                    <h3>Leadership & Community</h3>
                    <p><strong>President</strong> - Women in Computer Science (WICS) - 100+ members</p>
                    <p><strong>Treasurer</strong> - Relay for Life (January 2018 - October 2024)</p>
                    <p><strong>Team Lead</strong> - Mote Marine (September 2019 - July 2023)</p>
                    
                    <h3>Technical Achievements</h3>
                    <p><strong>Quantitative Trading Strategy</strong> - Achieved Sharpe ratio ≈ 1.2</p>
                    <p><strong>Monte Carlo Simulator</strong> - Pricing accuracy within <1% of Black-Scholes</p>
                    <p><strong>Research Contributions</strong> - Adversarial ML and GNN fingerprinting</p>
                    
                    <h3>Community Involvement</h3>
                    <p><strong>Clubs:</strong> Tennis club, UROP, Italian club, ACM, Cybersecurity club, WICS club, Cloud Club, IATP Club</p>
                    <p><strong>Interests:</strong> Weightlifting, Tennis, Art, Volunteering, Marathons</p>
                </div>
            </div>
        </div>

        <!-- Contact Overlay -->
        <div class="overlay" id="contact-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">Contact Me</h2>
                <div class="overlay-text">
                    <p>I'm always interested in new opportunities and exciting projects!</p>
                    <br>
                    <p><strong>Email:</strong> DaryaP101@gmail.com</p>
                    <p><strong>Phone:</strong> (941) 275-0410</p>
                    <p><strong>Location:</strong> Tallahassee, FL (Available for remote work)</p>
                    <br>
                    <p><strong>Social Media & Links:</strong></p>
                    <p><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/darya-pylypenko-24288b207" target="_blank" style="color: #00d4ff;">linkedin.com/in/darya-pylypenko-24288b207</a></p>
                    <p><strong>Website:</strong> <a href="https://daryapylypenko.com/" target="_blank" style="color: #00d4ff;">daryapylypenko.com</a></p>
                    <p><strong>GitHub:</strong> <a href="https://github.com/lldaryall" target="_blank" style="color: #00d4ff;">github.com/lldaryall</a></p>
                    <br>
                    <p><strong>Featured Projects:</strong></p>
                    <p><strong>Coppola Artistica:</strong> <a href="https://coppolaartistica.vercel.app/" target="_blank" style="color: #00d4ff;">coppolaartistica.vercel.app</a></p>
                    <p><strong>C++ Projects:</strong> <a href="https://github.com/lldaryall/C-projects" target="_blank" style="color: #00d4ff;">github.com/lldaryall/C-projects</a></p>
                    <br>
                    <p><strong>Seeking:</strong> Quantitative research/developer internship opportunities</p>
                    <p><strong>Interests:</strong> Machine Learning, Quantitative Analysis, AI, Data Analytics, Algorithms</p>
                    <br>
                    <p>Feel free to reach out if you'd like to collaborate or just want to chat about technology!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game variables
        let game;
        let player;
        let cursors;
        let wasd;
        let markers = [];
        let currentOverlay = null;

        // Loading screen animation
        function animateLoading() {
            const dots = document.getElementById('loading-dots');
            const messages = [
                'Preparing interactive experience',
                'Loading game assets',
                'Initializing portfolio world',
                'Setting up animations',
                'Almost ready...'
            ];
            let messageIndex = 0;
            let dotCount = 0;
            
            const interval = setInterval(() => {
                dotCount = (dotCount + 1) % 4;
                dots.textContent = messages[messageIndex] + '.'.repeat(dotCount);
                
                if (dotCount === 0) {
                    messageIndex = (messageIndex + 1) % messages.length;
                }
            }, 800);
            
            // Auto-hide loading screen after 3 seconds
            setTimeout(() => {
                clearInterval(interval);
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('intro-screen').style.display = 'flex';
            }, 3000);
            
            return interval;
        }

        // Game configuration - ADVANCED 3D VERSION
        const config = {
            type: Phaser.AUTO,
            width: 1400,
            height: 900,
            parent: 'game-canvas',
            backgroundColor: '#87CEEB',
            physics: {
                default: 'arcade',
                arcade: {
                    gravity: { y: 0 },
                    debug: false
                }
            },
            scene: {
                preload: preload,
                create: create,
                update: update
            },
            scale: {
                mode: Phaser.Scale.FIT,
                autoCenter: Phaser.Scale.CENTER_BOTH
            }
        };

        // Preload assets
        function preload() {
            console.log('Preload function called');
        }

        // Create game world - ADVANCED 3D VERSION WITH PHYSICS
        function create() {
            console.log('Create function called - starting advanced 3D world creation');
            
            // Create world bounds
            const worldWidth = 4000;
            const worldHeight = 3000;
            
            // Create sky gradient background
            const sky = this.add.graphics();
            sky.fillGradientStyle(0x87CEEB, 0x87CEEB, 0x98D8E8, 0x98D8E8, 1);
            sky.fillRect(0, 0, worldWidth, worldHeight);
            console.log('Sky background created');
            
            // Create ground with grass texture
            const ground = this.add.graphics();
            ground.fillStyle(0x90EE90);
            ground.fillRect(0, worldHeight - 600, worldWidth, 600);
            
            // Add grass pattern
            for (let x = 0; x < worldWidth; x += 40) {
                for (let y = worldHeight - 600; y < worldHeight; y += 40) {
                    if (Math.random() < 0.8) {
                        const grass = this.add.rectangle(x + 20, y + 20, 35, 35, 0x7CFC00);
                        grass.setAlpha(0.6 + Math.random() * 0.4);
                    }
                }
            }
            console.log('Ground and grass created');
            
            // Create roads with 3D effect
            const roads = [
                { x: worldWidth/2, y: 300, width: worldWidth, height: 60, color: 0x696969 },
                { x: worldWidth/2, y: worldHeight - 300, width: worldWidth, height: 60, color: 0x696969 },
                { x: 300, y: worldHeight/2, width: 60, height: worldHeight, color: 0x696969 },
                { x: worldWidth - 300, y: worldHeight/2, width: 60, height: worldHeight, color: 0x696969 }
            ];
            
            roads.forEach(road => {
                // Main road
                this.add.rectangle(road.x, road.y, road.width, road.height, road.color);
                // Road lines
                if (road.width > road.height) {
                    for (let i = 0; i < road.width; i += 80) {
                        this.add.rectangle(road.x - road.width/2 + i, road.y, 40, 6, 0xFFFFFF);
                    }
                } else {
                    for (let i = 0; i < road.height; i += 80) {
                        this.add.rectangle(road.x, road.y - road.height/2 + i, 6, 40, 0xFFFFFF);
                    }
                }
            });
            console.log('Roads created');
            
            // Create buildings with physics bodies
            const buildings = [
                { x: 500, y: 500, width: 200, height: 150, color: 0x8B4513, name: 'Research Lab', floors: 3, section: 'about' },
                { x: 1000, y: 400, width: 250, height: 180, color: 0x654321, name: 'Tech Hub', floors: 4, section: 'projects' },
                { x: 1500, y: 600, width: 180, height: 140, color: 0x8B4513, name: 'AI Lab', floors: 3, section: 'resume' },
                { x: 500, y: 1200, width: 280, height: 200, color: 0x654321, name: 'Data Center', floors: 4, section: 'skills' },
                { x: 1000, y: 1300, width: 220, height: 160, color: 0x8B4513, name: 'Innovation Center', floors: 5, section: 'awards' },
                { x: 1500, y: 1400, width: 200, height: 150, color: 0x654321, name: 'Conference Hall', floors: 3, section: 'contact' },
                { x: 2500, y: 800, width: 300, height: 220, color: 0x8B4513, name: 'University Campus', floors: 6, section: 'about' },
                { x: 3000, y: 1200, width: 250, height: 180, color: 0x654321, name: 'Research Institute', floors: 4, section: 'projects' }
            ];
            
            // Store building physics bodies for collision
            window.buildingBodies = [];
            
            buildings.forEach(building => {
                // Create 3D building effect
                const mainBuilding = this.add.rectangle(building.x, building.y, building.width, building.height, building.color);
                
                // Add physics body for collision
                this.physics.add.existing(mainBuilding, true);
                buildingBodies.push(mainBuilding);
                
                // Add depth effect (darker side)
                const depth = this.add.rectangle(building.x + 15, building.y + 15, building.width, building.height, building.color - 0x333333);
                depth.setDepth(-1);
                
                // Add roof
                const roof = this.add.rectangle(building.x, building.y - building.height/2 - 20, building.width + 30, 25, 0x2F4F4F);
                
                // Add windows with lights
                for (let i = 0; i < building.floors; i++) {
                    for (let j = 0; j < 4; j++) {
                        const window = this.add.rectangle(
                            building.x - building.width/2.5 + (j * building.width/4), 
                            building.y - building.height/2.5 + (i * building.height/building.floors), 
                            20, 25, Math.random() < 0.7 ? 0x87CEEB : 0xFFD700
                        );
                        window.setAlpha(0.9);
                    }
                }
                
                // Add door
                const door = this.add.rectangle(building.x, building.y + building.height/2 - 15, 25, 40, 0x654321);
                
                // Add building label
                const label = this.add.text(building.x, building.y - building.height/2 - 50, building.name, {
                    fontSize: '16px',
                    fill: '#ffffff',
                    fontFamily: 'Courier New',
                    stroke: '#000000',
                    strokeThickness: 3
                });
                label.setOrigin(0.5);
                
                // Make building interactive
                mainBuilding.setInteractive();
                mainBuilding.setData('building', building);
                
                // Add hover effect
                mainBuilding.on('pointerover', () => {
                    mainBuilding.setTint(0xffff00);
                    label.setStyle({ fill: '#ffff00' });
                });
                
                mainBuilding.on('pointerout', () => {
                    mainBuilding.clearTint();
                    label.setStyle({ fill: '#ffffff' });
                });
                
                // Add click interaction to open portfolio section
                mainBuilding.on('pointerdown', () => {
                    if (building.section) {
                        openOverlay(building.section);
                    }
                });
            });
            console.log('Buildings with physics created');
            
            // Create animated cars
            const cars = [
                { x: 100, y: 300, color: 0xff0000, speed: 2 },
                { x: 200, y: 300, color: 0x0000ff, speed: 1.5 },
                { x: 300, y: 300, color: 0x00ff00, speed: 2.5 },
                { x: 100, y: worldHeight - 300, color: 0xffff00, speed: 1.8 },
                { x: 200, y: worldHeight - 300, color: 0xff00ff, speed: 2.2 }
            ];
            
            cars.forEach(car => {
                const carSprite = this.add.rectangle(car.x, car.y, 60, 30, car.color);
                carSprite.setAngle(90);
                
                // Animate car movement
                this.tweens.add({
                    targets: carSprite,
                    x: car.x + (Math.random() > 0.5 ? 1 : -1) * 2000,
                    duration: 10000 / car.speed,
                    repeat: -1,
                    yoyo: true,
                    ease: 'Linear'
                });
            });
            console.log('Animated cars created');
            
            // Create animated birds
            for (let i = 0; i < 15; i++) {
                const bird = this.add.circle(Math.random() * worldWidth, Math.random() * 500, 8, 0x000000);
                
                // Animate bird flight
                this.tweens.add({
                    targets: bird,
                    x: Math.random() * worldWidth,
                    y: Math.random() * 500,
                    duration: 8000 + Math.random() * 12000,
                    repeat: -1,
                    ease: 'Sine.easeInOut'
                });
                
                // Add wing flapping animation
                this.tweens.add({
                    targets: bird,
                    scaleY: 0.5,
                    duration: 200,
                    yoyo: true,
                    repeat: -1,
                    ease: 'Sine.easeInOut'
                });
            }
            console.log('Animated birds created');
            
            // Create trees with physics
            const trees = [];
            for (let i = 0; i < 50; i++) {
                const x = Math.random() * worldWidth;
                const y = Math.random() * (worldHeight - 600) + 300;
                
                // Tree trunk
                const trunk = this.add.rectangle(x, y, 20, 60, 0x8B4513);
                // Tree leaves
                const leaves = this.add.circle(x, y - 30, 40, 0x228B22);
                
                // Add physics body for collision
                this.physics.add.existing(trunk, true);
                trees.push(trunk);
            }
            console.log('Trees with physics created');
            
            // Create advanced 3D NPCs with walking animations
            const npcs = [
                { x: 600, y: 600, color: 0x4169e1, name: 'Dr. Sarah Chen', role: 'AI Researcher', message: 'Welcome to our AI research lab! I work on Graph Neural Networks.' },
                { x: 1100, y: 500, color: 0xff6347, name: 'Mike Rodriguez', role: 'Tech Lead', message: 'Hey! I lead the development team here. Check out our latest projects!' },
                { x: 1600, y: 700, color: 0x32cd32, name: 'Alex Johnson', role: 'Data Scientist', message: 'I specialize in quantitative analysis and machine learning. Want to see my work?' },
                { x: 600, y: 1300, color: 0xffd700, name: 'Prof. Martinez', role: 'Mentor', message: 'I mentor students in computer science. Looking for guidance?' },
                { x: 1100, y: 1400, color: 0x9370db, name: 'Lisa Wang', role: 'Designer', message: 'I create beautiful user interfaces. Design is my passion!' },
                { x: 1600, y: 1500, color: 0xff69b4, name: 'David Kim', role: 'Engineer', message: 'I build scalable systems and love solving complex problems!' }
            ];
            
            npcs.forEach(npc => {
                // Create advanced 3D person sprite
                const person = this.add.graphics();
                person.fillStyle(npc.color);
                
                // 3D Head with shading
                person.fillCircle(0, -20, 15);
                person.fillStyle(npc.color - 0x222222);
                person.fillCircle(-3, -22, 8);
                
                // 3D Body with shading
                person.fillStyle(npc.color);
                person.fillRect(-10, -8, 20, 35);
                person.fillStyle(npc.color - 0x222222);
                person.fillRect(-8, -6, 8, 33);
                
                // 3D Arms
                person.fillStyle(npc.color);
                person.fillRect(-18, 2, 10, 4);
                person.fillRect(8, 2, 10, 4);
                
                // 3D Legs
                person.fillRect(-8, 27, 6, 20);
                person.fillRect(2, 27, 6, 20);
                
                person.x = npc.x;
                person.y = npc.y;
                
                // Add physics body
                this.physics.add.existing(person, true);
                
                // Add name label
                const nameLabel = this.add.text(npc.x, npc.y - 50, npc.name, {
                    fontSize: '14px',
                    fill: '#ffffff',
                    fontFamily: 'Courier New',
                    stroke: '#000000',
                    strokeThickness: 2
                });
                nameLabel.setOrigin(0.5);
                
                // Add role label
                const roleLabel = this.add.text(npc.x, npc.y - 65, npc.role, {
                    fontSize: '12px',
                    fill: '#ffff00',
                    fontFamily: 'Courier New',
                    stroke: '#000000',
                    strokeThickness: 1
                });
                roleLabel.setOrigin(0.5);
                
                // Make NPC interactive
                person.setInteractive();
                person.setData('npc', npc);
                
                // Add hover effect
                person.on('pointerover', () => {
                    person.setScale(1.1);
                    nameLabel.setStyle({ fill: '#ffff00' });
                });
                
                person.on('pointerout', () => {
                    person.setScale(1.0);
                    nameLabel.setStyle({ fill: '#ffffff' });
                });
                
                // Add click interaction
                person.on('pointerdown', () => {
                    // Show NPC message
                    const messageText = this.add.text(npc.x, npc.y - 90, npc.message, {
                        fontSize: '12px',
                        fill: '#ffffff',
                        fontFamily: 'Courier New',
                        stroke: '#000000',
                        strokeThickness: 2,
                        backgroundColor: '#000000',
                        padding: { x: 15, y: 8 }
                    });
                    messageText.setOrigin(0.5);
                    
                    // Fade out message after 4 seconds
                    this.tweens.add({
                        targets: messageText,
                        alpha: 0,
                        duration: 4000,
                        onComplete: () => messageText.destroy()
                    });
                });
                
                // Add walking animation
                this.tweens.add({
                    targets: person,
                    x: npc.x + (Math.random() - 0.5) * 200,
                    duration: 8000 + Math.random() * 12000,
                    yoyo: true,
                    repeat: -1,
                    ease: 'Sine.easeInOut'
                });
                
                // Add blinking animation
                this.tweens.add({
                    targets: person,
                    alpha: 0.7,
                    duration: 100,
                    yoyo: true,
                    repeat: -1,
                    repeatDelay: 3000 + Math.random() * 5000
                });
            });
            console.log('Advanced 3D NPCs created');
            
            // Create player with advanced 3D shape and physics
            player = this.add.graphics();
            player.fillStyle(0xff0000);
            
            // 3D Head with shading
            player.fillCircle(0, -20, 15);
            player.fillStyle(0xcc0000);
            player.fillCircle(-3, -22, 8);
            
            // 3D Body with shading
            player.fillStyle(0xff0000);
            player.fillRect(-10, -8, 20, 35);
            player.fillStyle(0xcc0000);
            player.fillRect(-8, -6, 8, 33);
            
            // 3D Arms
            player.fillStyle(0xff0000);
            player.fillRect(-18, 2, 10, 4);
            player.fillRect(8, 2, 10, 4);
            
            // 3D Legs
            player.fillRect(-8, 27, 6, 20);
            player.fillRect(2, 27, 6, 20);
            
            player.x = 200;
            player.y = 200;
            
            // Add physics body
            this.physics.add.existing(player, true);
            player.body.setSize(20, 40);
            player.body.setOffset(-10, -20);
            
            // Add collision with buildings and trees
            this.physics.add.collider(player, buildingBodies);
            this.physics.add.collider(player, trees);
            
            console.log('Player with physics created');
            
            // Add player walking animation
            this.tweens.add({
                targets: player,
                scaleX: 1.05,
                scaleY: 1.05,
                duration: 2000,
                yoyo: true,
                repeat: -1
            });
            
            // Add blinking animation
            this.tweens.add({
                targets: player,
                alpha: 0.8,
                duration: 150,
                yoyo: true,
                repeat: -1,
                repeatDelay: 4000 + Math.random() * 3000
            });
            
            console.log('Player animations added');
            
            // Set up camera to follow player
            this.cameras.main.startFollow(player);
            this.cameras.main.setBounds(0, 0, worldWidth, worldHeight);
            this.cameras.main.setZoom(0.6);
            console.log('Camera setup completed');
            
            // Set up input
            cursors = this.input.keyboard.createCursorKeys();
            wasd = this.input.keyboard.addKeys('W,S,A,D');
            console.log('Input controls set up');
            
            // Add spacebar to jump
            this.input.keyboard.on('keydown-SPACE', () => {
                if (player && player.body.touching.down) {
                    player.body.setVelocityY(-400);
                }
            });
            
            // Add mouse click to move
            this.input.on('pointerdown', (pointer) => {
                if (player) {
                    this.tweens.add({
                        targets: player,
                        x: pointer.worldX,
                        y: pointer.worldY,
                        duration: 1500,
                        ease: 'Power2.easeOut'
                    });
                }
            });
            
            console.log('Advanced 3D world creation completed successfully!');
        }

        // Update game loop
        function update() {
            if (!player) return;
            
            // Player movement with physics
            const speed = 200;
            
            if (cursors.left.isDown || wasd.A.isDown) {
                player.body.setVelocityX(-speed);
            } else if (cursors.right.isDown || wasd.D.isDown) {
                player.body.setVelocityX(speed);
            } else {
                player.body.setVelocityX(0);
            }
            
            if (cursors.up.isDown || wasd.W.isDown) {
                player.body.setVelocityY(-speed);
            } else if (cursors.down.isDown || wasd.S.isDown) {
                player.body.setVelocityY(speed);
            } else {
                player.body.setVelocityY(0);
            }
            
            // Keep player within world bounds
            if (player.x < 30) player.x = 30;
            if (player.x > 3970) player.x = 3970;
            if (player.y < 30) player.y = 30;
            if (player.y > 2970) player.y = 2970;
            
            // Check for random interactions (buildings, NPCs, etc.)
            if (Math.random() < 0.0003) { // 0.03% chance per frame
                const randomMessages = [
                    "You found a hidden easter egg! 🎉",
                    "The wind whispers secrets of code...",
                    "A butterfly lands on your shoulder.",
                    "You hear distant music from the Tech Hub.",
                    "The plants seem to be growing...",
                    "Something sparkles in the distance.",
                    "You feel inspired to code something new!",
                    "The buildings seem to pulse with energy.",
                    "A shooting star crosses the sky above.",
                    "You discover a new programming technique!",
                    "The AI Lab hums with activity...",
                    "You notice a new building under construction.",
                    "A friendly NPC waves at you from across the street.",
                    "The Innovation Center glows with possibilities.",
                    "You feel the energy of the tech community around you.",
                    "A car honks in the distance...",
                    "Birds chirp overhead as you explore.",
                    "The university campus looks impressive!",
                    "You can hear the buzz of innovation everywhere.",
                    "The research institute beckons with new discoveries."
                ];
                
                const randomMessage = randomMessages[Math.floor(Math.random() * randomMessages.length)];
                console.log(randomMessage);
                
                // Show temporary message on screen
                const messageText = this.add.text(player.x, player.y - 60, randomMessage, {
                    fontSize: '14px',
                    fill: '#ffff00',
                    fontFamily: 'Courier New',
                    stroke: '#000000',
                    strokeThickness: 2,
                    backgroundColor: '#000000',
                    padding: { x: 12, y: 6 }
                });
                messageText.setOrigin(0.5);
                
                // Fade out message
                this.tweens.add({
                    targets: messageText,
                    alpha: 0,
                    y: messageText.y - 40,
                    duration: 5000,
                    onComplete: () => messageText.destroy()
                });
            }
        }

        // Open overlay for specific section
        function openOverlay(section) {
            const overlay = document.getElementById(section + '-overlay');
            if (overlay) {
                overlay.style.display = 'flex';
                currentOverlay = overlay;
                if (game) {
                    game.scene.pause();
                }
            }
        }

        // Close current overlay
        function closeOverlay() {
            if (currentOverlay) {
                currentOverlay.style.display = 'none';
                currentOverlay = null;
                if (game) {
                    game.scene.resume();
                }
            }
        }

        // Start the game
        function startGame() {
            console.log('Starting game...');
            document.getElementById('intro-screen').style.display = 'none';
            document.getElementById('game-ui').style.display = 'block';
            document.getElementById('instructions').style.display = 'block';
            document.getElementById('menu-button').style.display = 'block';
            
            try {
                game = new Phaser.Game(config);
                console.log('Phaser game created successfully');
            } catch (error) {
                console.error('Error creating Phaser game:', error);
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, starting initialization');
            
            // Start loading animation
            animateLoading();
            
            // Fallback: Force hide loading screen after 5 seconds
            setTimeout(() => {
                if (document.getElementById('loading-screen').style.display !== 'none') {
                    document.getElementById('loading-screen').style.display = 'none';
                    document.getElementById('intro-screen').style.display = 'flex';
                }
            }, 5000);

            // Skip loading button
            document.getElementById('skip-loading').addEventListener('click', function() {
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('intro-screen').style.display = 'flex';
            });
            
            // Play button
            document.getElementById('play-button').addEventListener('click', startGame);

            // Menu button
            document.getElementById('menu-button').addEventListener('click', function() {
                document.getElementById('menu-overlay').style.display = 'flex';
                if (game) {
                    game.scene.pause();
                }
            });

            // Map button
            document.getElementById('map-button').addEventListener('click', function() {
                document.getElementById('map-overlay').style.display = 'flex';
                if (game) {
                    game.scene.pause();
                }
            });

            // Map close button
            document.getElementById('map-close').addEventListener('click', function() {
                document.getElementById('map-overlay').style.display = 'none';
                if (game) {
                    game.scene.resume();
                }
            });

            // Map location buttons
            document.querySelectorAll('.map-location').forEach(location => {
                location.addEventListener('click', function() {
                    const locationType = this.getAttribute('data-location');
                    document.getElementById('map-overlay').style.display = 'none';
                    
                    // Open corresponding portfolio section
                    const sectionMap = {
                        'research-lab': 'about',
                        'tech-hub': 'projects',
                        'ai-lab': 'resume',
                        'data-center': 'skills',
                        'innovation-center': 'awards',
                        'conference-hall': 'contact'
                    };
                    
                    if (sectionMap[locationType]) {
                        openOverlay(sectionMap[locationType]);
                    }
                });
            });
            
            // Menu section buttons
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    document.getElementById('menu-overlay').style.display = 'none';
                    openOverlay(section);
                });
            });
            
            // Close overlay buttons
            document.querySelectorAll('.overlay-close').forEach(btn => {
                btn.addEventListener('click', closeOverlay);
            });
            
            // Close overlays when clicking outside
            document.querySelectorAll('.overlay').forEach(overlay => {
                overlay.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeOverlay();
                    }
                });
            });
            
            // Close menu when clicking outside
            document.getElementById('menu-overlay').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.style.display = 'none';
                    if (game) {
                        game.scene.resume();
                    }
                }
            });
            
            console.log('Event listeners set up');
        });
    </script>
</body>
</html>