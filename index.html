<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Darya Pylypenko - Interactive Portfolio</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #1a1a1a;
            overflow: hidden;
            color: #ffffff;
        }

        #game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #game-canvas {
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            border: 2px solid #2779a7;
        }

        /* Loading Screen */
        .loading-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loading-text {
            font-size: 2.5rem;
            color: #00d4ff;
            margin-bottom: 2rem;
            text-align: center;
            animation: pulse 2s infinite;
            text-shadow: 0 0 20px #00d4ff;
            font-weight: bold;
        }

        .loading-dots {
            font-size: 1.5rem;
            color: #ffffff;
            animation: blink 1s infinite;
        }

        .loading-progress {
            width: 300px;
            height: 4px;
            background: #333;
            border-radius: 2px;
            margin-top: 2rem;
            overflow: hidden;
        }

        .loading-bar {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #ff6b6b);
            width: 0%;
            animation: loading 3s ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        @keyframes loading {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        /* Intro Screen */
        .intro-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }

        .intro-title {
            font-size: 4rem;
            color: #00d4ff;
            margin-bottom: 1rem;
            text-align: center;
            text-shadow: 0 0 30px #00d4ff;
            font-weight: bold;
        }

        .intro-subtitle {
            font-size: 1.8rem;
            color: #ffffff;
            margin-bottom: 3rem;
            text-align: center;
        }

        .play-button {
            background: linear-gradient(45deg, #00d4ff, #ff6b6b);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.8rem;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            cursor: pointer;
            border-radius: 50px;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
        }

        .play-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 35px rgba(0, 212, 255, 0.5);
        }

        /* Menu Button */
        .menu-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #2779a7;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            border-radius: 5px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .menu-button:hover {
            background: #1e5a7a;
        }

        /* Game UI */
        .game-ui {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #ffffff;
            font-size: 1rem;
            z-index: 50;
        }

        .instructions {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ffffff;
            font-size: 0.9rem;
            text-align: center;
            z-index: 50;
        }

        /* Overlay Styles */
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 200;
        }

        .overlay-content {
            background: #2d2d2d;
            padding: 2rem;
            border-radius: 10px;
            max-width: 80%;
            max-height: 80%;
            overflow-y: auto;
            border: 2px solid #2779a7;
        }

        .overlay-header {
            color: #2779a7;
            font-size: 2rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .overlay-close {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: #ffffff;
            font-size: 2rem;
            cursor: pointer;
            font-weight: bold;
        }

        .overlay-text {
            color: #ffffff;
            line-height: 1.6;
            font-size: 1rem;
        }

        .project-item {
            background: #1a1a1a;
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 5px;
            border-left: 4px solid #2779a7;
        }

        .project-title {
            color: #2779a7;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .skill-item {
            display: inline-block;
            background: #2779a7;
            color: white;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        /* Menu Overlay */
        .menu-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 300;
        }

        .menu-content {
            background: #2d2d2d;
            padding: 2rem;
            border-radius: 10px;
            border: 2px solid #2779a7;
            text-align: center;
        }

        .menu-title {
            color: #2779a7;
            font-size: 2rem;
            margin-bottom: 2rem;
        }

        .menu-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .menu-btn {
            background: #2779a7;
            color: white;
            border: none;
            padding: 15px 20px;
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .menu-btn:hover {
            background: #1e5a7a;
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div id="game-container">
        <!-- Loading Screen -->
        <div class="loading-screen" id="loading-screen">
            <div class="loading-text">Loading Portfolio...</div>
            <div class="loading-dots" id="loading-dots">Preparing interactive experience</div>
            <div class="loading-progress">
                <div class="loading-bar"></div>
            </div>
            <div style="margin-top: 2rem; color: #cccccc; font-size: 0.9rem; cursor: pointer;" id="skip-loading">Click to skip loading</div>
        </div>

        <!-- Intro Screen -->
        <div class="intro-screen" id="intro-screen">
            <h1 class="intro-title">Darya Pylypenko</h1>
            <p class="intro-subtitle">Interactive Portfolio Experience</p>
            <button class="play-button" id="play-button">Enter Portfolio</button>
        </div>

        <!-- Game Canvas -->
        <div id="game-canvas"></div>

        <!-- Menu Button -->
        <button class="menu-button" id="menu-button">Menu</button>

        <!-- Game UI -->
        <div class="game-ui" id="game-ui" style="display: none;">
            <div>Use WASD or Arrow Keys to move</div>
        </div>

        <!-- Instructions -->
        <div class="instructions" id="instructions" style="display: none;">
            <div>Use WASD/Arrow Keys to move • Click to move • SPACE to jump</div>
            <div>Walk to the glowing markers to explore my portfolio sections</div>
        </div>

        <!-- Menu Overlay -->
        <div class="menu-overlay" id="menu-overlay">
            <div class="menu-content">
                <h2 class="menu-title">Portfolio Menu</h2>
                <div class="menu-buttons">
                    <button class="menu-btn" data-section="about">About Me</button>
                    <button class="menu-btn" data-section="projects">Projects</button>
                    <button class="menu-btn" data-section="resume">Resume</button>
                    <button class="menu-btn" data-section="skills">Skills</button>
                    <button class="menu-btn" data-section="awards">Awards</button>
                    <button class="menu-btn" data-section="contact">Contact</button>
                </div>
            </div>
        </div>

        <!-- Portfolio Section Overlays -->
        <!-- About Me Overlay -->
        <div class="overlay" id="about-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">About Me</h2>
                <div class="overlay-text">
                    <p>Hello! I'm Darya Pylypenko, a passionate developer with expertise in web development, C++ programming, and creating interactive digital experiences.</p>
                    <p>I specialize in full-stack development using modern technologies like JavaScript, React, Node.js, and C++. My journey in technology began with a fascination for how things work, leading me to become a versatile developer who loves creating engaging user experiences and solving complex problems.</p>
                </div>
            </div>
        </div>

        <!-- Projects Overlay -->
        <div class="overlay" id="projects-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">My Projects</h2>
                <div class="overlay-text">
                    <div class="project-item">
                        <div class="project-title">Interactive Portfolio Website</div>
                        <p>A game-style portfolio built with Phaser 3, featuring a 2D world where visitors can explore different sections by walking around.</p>
                    </div>
                    <div class="project-item">
                        <div class="project-title">Coppola Artistica Website</div>
                        <p>A modern web application built with React and modern web technologies.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Resume Overlay -->
        <div class="overlay" id="resume-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">Resume & Experience</h2>
                <div class="overlay-text">
                    <p><strong>Full Stack Developer</strong> - Freelance (2020-Present)</p>
                    <p>Developing web applications and interactive experiences using modern technologies.</p>
                </div>
            </div>
        </div>

        <!-- Skills Overlay -->
        <div class="overlay" id="skills-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">Skills & Technologies</h2>
                <div class="overlay-text">
                    <span class="skill-item">JavaScript</span>
                    <span class="skill-item">C++</span>
                    <span class="skill-item">React</span>
                    <span class="skill-item">Phaser 3</span>
                    <span class="skill-item">HTML5</span>
                    <span class="skill-item">CSS3</span>
                </div>
            </div>
        </div>

        <!-- Awards Overlay -->
        <div class="overlay" id="awards-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">Awards & Certifications</h2>
                <div class="overlay-text">
                    <p>Interactive Portfolio Recognition</p>
                    <p>Web Development Projects</p>
                    <p>C++ Programming Excellence</p>
                </div>
            </div>
        </div>

        <!-- Contact Overlay -->
        <div class="overlay" id="contact-overlay">
            <div class="overlay-content">
                <button class="overlay-close">&times;</button>
                <h2 class="overlay-header">Contact Me</h2>
                <div class="overlay-text">
                    <p><strong>Email:</strong> darya.pylypenko@example.com</p>
                    <p><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/darya-pylypenko-24288b207" target="_blank" style="color: #00d4ff;">linkedin.com/in/darya-pylypenko-24288b207</a></p>
                    <p><strong>Website:</strong> <a href="https://daryapylypenko.com/" target="_blank" style="color: #00d4ff;">daryapylypenko.com</a></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game variables
        let game;
        let player;
        let cursors;
        let wasd;
        let markers = [];
        let currentOverlay = null;

        // Loading screen animation
        function animateLoading() {
            const dots = document.getElementById('loading-dots');
            const messages = [
                'Preparing interactive experience',
                'Loading game assets',
                'Initializing portfolio world',
                'Setting up animations',
                'Almost ready...'
            ];
            let messageIndex = 0;
            let dotCount = 0;
            
            const interval = setInterval(() => {
                dotCount = (dotCount + 1) % 4;
                dots.textContent = messages[messageIndex] + '.'.repeat(dotCount);
                
                if (dotCount === 0) {
                    messageIndex = (messageIndex + 1) % messages.length;
                }
            }, 800);
            
            // Auto-hide loading screen after 3 seconds
            setTimeout(() => {
                clearInterval(interval);
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('intro-screen').style.display = 'flex';
            }, 3000);
            
            return interval;
        }

        // Game configuration - FIXED VERSION
        const config = {
            type: Phaser.AUTO,
            width: 1000,
            height: 700,
            parent: 'game-canvas',
            backgroundColor: '#2d5016',
            physics: {
                default: 'arcade',
                arcade: {
                    gravity: { y: 0 },
                    debug: false
                }
            },
            scene: {
                preload: preload,
                create: create,
                update: update
            },
            scale: {
                mode: Phaser.Scale.FIT,
                autoCenter: Phaser.Scale.CENTER_BOTH
            }
        };

        // Preload assets
        function preload() {
            console.log('Preload function called');
        }

        // Create game world - FIXED VERSION
        function create() {
            console.log('Create function called - starting game world creation');
            
            // Create a simple background
            this.add.rectangle(500, 350, 1000, 700, 0x2d5016);
            console.log('Background created');
            
            // Create a simple grass pattern
            for (let x = 0; x < 1000; x += 50) {
                for (let y = 0; y < 700; y += 50) {
                    this.add.rectangle(x + 25, y + 25, 50, 50, 0x4a7c59);
                }
            }
            console.log('Grass pattern created');
            
            // Create player - BIG RED CIRCLE (NO PHYSICS)
            player = this.add.circle(100, 100, 30, 0xff0000);
            console.log('Player created at position:', player.x, player.y);
            
            // Add player animation
            this.tweens.add({
                targets: player,
                scaleX: 1.2,
                scaleY: 1.2,
                duration: 1000,
                yoyo: true,
                repeat: -1
            });
            console.log('Player animation added');
            
            // Create simple markers
            const marker1 = this.add.circle(200, 200, 25, 0x00ff00);
            const marker2 = this.add.circle(500, 350, 25, 0x0000ff);
            const marker3 = this.add.circle(800, 500, 25, 0xff00ff);
            const marker4 = this.add.circle(300, 500, 25, 0xffff00);
            const marker5 = this.add.circle(700, 200, 25, 0xff8000);
            const marker6 = this.add.circle(100, 400, 25, 0x00ffff);
            
            markers = [marker1, marker2, marker3, marker4, marker5, marker6];
            console.log('Markers created');
            
            // Set up input
            cursors = this.input.keyboard.createCursorKeys();
            wasd = this.input.keyboard.addKeys('W,S,A,D');
            console.log('Input controls set up');
            
            // Add spacebar to jump
            this.input.keyboard.on('keydown-SPACE', () => {
                if (player) {
                    this.tweens.add({
                        targets: player,
                        y: player.y - 50,
                        duration: 300,
                        yoyo: true,
                        ease: 'Back.easeOut'
                    });
                }
            });
            
            // Add mouse click to move
            this.input.on('pointerdown', (pointer) => {
                if (player) {
                    this.tweens.add({
                        targets: player,
                        x: pointer.x,
                        y: pointer.y,
                        duration: 1000,
                        ease: 'Power2.easeOut'
                    });
                }
            });
            
            // Add marker interactions
            markers.forEach((marker, index) => {
                marker.setInteractive();
                marker.on('pointerdown', () => {
                    console.log('Marker clicked:', index);
                    // Add click animation
                    this.tweens.add({
                        targets: marker,
                        scaleX: 1.5,
                        scaleY: 1.5,
                        duration: 200,
                        yoyo: true
                    });
                });
            });
            
            console.log('Game world creation completed successfully!');
        }

        // Update game loop
        function update() {
            if (!player) return;
            
            // Player movement
            const speed = 200;
            
            if (cursors.left.isDown || wasd.A.isDown) {
                player.x -= speed * this.game.loop.delta / 1000;
            }
            if (cursors.right.isDown || wasd.D.isDown) {
                player.x += speed * this.game.loop.delta / 1000;
            }
            if (cursors.up.isDown || wasd.W.isDown) {
                player.y -= speed * this.game.loop.delta / 1000;
            }
            if (cursors.down.isDown || wasd.S.isDown) {
                player.y += speed * this.game.loop.delta / 1000;
            }
            
            // Manual boundary checking (replaces setCollideWorldBounds)
            if (player.x < 30) player.x = 30;
            if (player.x > 970) player.x = 970;
            if (player.y < 30) player.y = 30;
            if (player.y > 670) player.y = 670;
        }

        // Open overlay for specific section
        function openOverlay(section) {
            const overlay = document.getElementById(section + '-overlay');
            if (overlay) {
                overlay.style.display = 'flex';
                currentOverlay = overlay;
                if (game) {
                    game.scene.pause();
                }
            }
        }

        // Close current overlay
        function closeOverlay() {
            if (currentOverlay) {
                currentOverlay.style.display = 'none';
                currentOverlay = null;
                if (game) {
                    game.scene.resume();
                }
            }
        }

        // Start the game
        function startGame() {
            console.log('Starting game...');
            document.getElementById('intro-screen').style.display = 'none';
            document.getElementById('game-ui').style.display = 'block';
            document.getElementById('instructions').style.display = 'block';
            document.getElementById('menu-button').style.display = 'block';
            
            try {
                game = new Phaser.Game(config);
                console.log('Phaser game created successfully');
            } catch (error) {
                console.error('Error creating Phaser game:', error);
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, starting initialization');
            
            // Start loading animation
            animateLoading();
            
            // Fallback: Force hide loading screen after 5 seconds
            setTimeout(() => {
                if (document.getElementById('loading-screen').style.display !== 'none') {
                    document.getElementById('loading-screen').style.display = 'none';
                    document.getElementById('intro-screen').style.display = 'flex';
                }
            }, 5000);

            // Skip loading button
            document.getElementById('skip-loading').addEventListener('click', function() {
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('intro-screen').style.display = 'flex';
            });
            
            // Play button
            document.getElementById('play-button').addEventListener('click', startGame);

            // Menu button
            document.getElementById('menu-button').addEventListener('click', function() {
                document.getElementById('menu-overlay').style.display = 'flex';
                if (game) {
                    game.scene.pause();
                }
            });
            
            // Menu section buttons
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    document.getElementById('menu-overlay').style.display = 'none';
                    openOverlay(section);
                });
            });
            
            // Close overlay buttons
            document.querySelectorAll('.overlay-close').forEach(btn => {
                btn.addEventListener('click', closeOverlay);
            });
            
            // Close overlays when clicking outside
            document.querySelectorAll('.overlay').forEach(overlay => {
                overlay.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeOverlay();
                    }
                });
            });
            
            // Close menu when clicking outside
            document.getElementById('menu-overlay').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.style.display = 'none';
                    if (game) {
                        game.scene.resume();
                    }
                }
            });
            
            console.log('Event listeners set up');
        });
    </script>
</body>
</html>